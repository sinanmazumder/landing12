!function(){"use strict";var e={mondayFirst:!0,format:"yyyy/mm/dd",minDate:new Date(0,0),maxDate:new Date(9999,11,31),weekDayLabels:["Mo","Tu","We","Th","Fr","St","Su"],shortMonthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],singleMonthLabels:["January","February","March","April","May","June","July","August","September","October","November","December"],todayButton:!0,todayButtonLabel:"Today",clearButton:!0,clearButtonLabel:"Clear",blockWeekend:!1},t=null;function n(e,t,n,a,i){t=t||[],!Array.isArray(t)&&(t=[t]);for(var r=document.createElement(e),o=t.length;o--;r.classList.add(t[o]));return i&&(r.title=i),r.innerHTML=a||"",n instanceof Element&&n.appendChild(r),r}function a(e){return e=e||new Date,new Date(e.getFullYear(),e.getMonth(),e.getDate())}function i(i){var r={},o={},l=!1,s=null,c=2;function d(){var e=r.minDate;return e instanceof HTMLInputElement&&(e=null===(e=e.DatePickerX.getValue(!0))?r.minDate.DatePickerX.getMinDate():new Date(e)).setDate(e.getDate()+1),a(e)}function u(){var e=r.maxDate;return e instanceof HTMLInputElement&&(e=null===(e=e.DatePickerX.getValue(!0))?r.maxDate.DatePickerX.getMaxDate():new Date(e)).setDate(e.getDate()-1),a(e)}function p(e,t){var n={d:e.getDate(),dd:e.getDate(),D:e.getDay(),m:e.getMonth()+1,mm:e.getMonth()+1,M:e.getMonth(),MM:e.getMonth(),yy:e.getFullYear().toString().substr(-2),yyyy:e.getFullYear()};return n.dd<10&&(n.dd="0"+n.dd),n.mm<10&&(n.mm="0"+n.mm),n.D=r.weekDayLabels[n.D?n.D-1:6],n.M=r.shortMonthLabels[n.M],n.MM=r.singleMonthLabels[n.MM],t.replace(/(?:[dmM]{1,2}|D|yyyy|yy)/g,function(e){return void 0!==n[e]?n[e]:e})}function g(){return o.container.classList.contains("active")}function D(e){o.content.innerHTML="";var t=d(),i=u(),l=a();r.todayButton&&o.today.classList[l>=t&&l<=i?"remove":"add"]("dpx-disabled"),c<2&&(t.setDate(1),i.setDate(1),c||(t.setMonth(0),i.setMonth(0))),t=t.getTime(),i=i.getTime(),(e=a(new Date(e||s||Date.now()))).getTime()<t?e=new Date(t):e.getTime()>i&&(e=new Date(i));var p=e.getMonth(),g=e.getFullYear(),D=10*Math.floor(g/10);if(e=new Date(c?g:D,c<2?0:p),o.title.innerHTML=c?(2===c?r.singleMonthLabels[p]+" ":"")+g:D+" - "+(D+9),o.title.dpxValue=e.getTime(),o.title.title=2===c?g:D+" - "+(D+9),o.prevTitle.classList[e.getTime()<=t?"add":"remove"]("dpx-disabled"),2===c?e.setMonth(p-1):e.setFullYear(c?g-1:D-10),o.prevTitle.title=c?(2===c?r.singleMonthLabels[e.getMonth()]+" ":"")+e.getFullYear():D-10+" - "+(D-1),o.prevTitle.dpxValue=e.getTime(),2===c?e.setMonth(e.getMonth()+2):e.setFullYear(c?g+1:D+20),o.nextTitle.classList[e.getTime()>i?"add":"remove"]("dpx-disabled"),o.nextTitle.title=c?(2===c?r.singleMonthLabels[e.getMonth()]+" ":"")+e.getFullYear():D+10+" - "+(D+19),o.nextTitle.dpxValue=e.getTime(),2===c?e.setMonth(e.getMonth()-1):e.setFullYear(c?g:D),2===c){var m=r.weekDayLabels.length;!r.mondayFirst&&--m&&n("span",["dpx-item","dpx-weekday","dpx-weekend"],o.content,r.weekDayLabels[6]);for(var v=0;v<m;++v){var f=["dpx-item","dpx-weekday"];v>4&&f.push("dpx-weekend"),n("span",f,o.content,r.weekDayLabels[v])}}if(2===c){var h=e.getDay();e.setDate(r.mondayFirst?-(h?h-2:5):1-h)}else c?e.setMonth(e.getMonth()-2):e.setFullYear(D-3);var y=s;c<2&&(null!==y&&((y=new Date(y)).setDate(1),!c&&y.setMonth(0),y=y.getTime()),l.setDate(1),!c&&l.setMonth(0)),l=l.getTime(),o.container.setAttribute("data-dpx-type",["year","month","day"][c]);for(var x=["getFullYear","getMonth","getDate"][c],M=["setFullYear","setMonth","setDate"][c],L=2===c?42:16;L--;e[M](e[x]()+1)){f=["dpx-item"];var k=c?r.singleMonthLabels[e.getMonth()]+" ":"";2===c&&(k+=e.getDate()+", "),k+=e.getFullYear(),(c?2===c?e.getMonth()!==p:e.getFullYear()!==g:e.getFullYear()<D||e.getFullYear()>D+9)&&f.push("dpx-out"),2===c&&(6===e.getDay()||0===e.getDay())&&f.push("dpx-weekend"),e.getTime()===l&&f.push("dpx-current"),e.getTime()===s&&f.push("dpx-selected"),r.blockWeekend?(e.getTime()<t||e.getTime()>i||0==e.getDay()||6==e.getDay())&&f.push("dpx-disabled"):(e.getTime()<t||e.getTime()>i)&&f.push("dpx-disabled");var b=c?2===c?e.getDate():r.shortMonthLabels[e.getMonth()]:e.getFullYear();n("span",f,o.content,b,k).dpxValue=e.getTime()}}function m(e,t){if(void 0===r[e])return console.error("DatePickerX, setOption: Option doesn't exist.")&&!1;if("minDate"===e||"maxDate"===e){if(!(t instanceof HTMLInputElement)&&(!(t instanceof Date)&&(t=new Date(t)),isNaN(t)))return console.error("DatePickerX, setOption: Invalid date value.")&&!1}else{if(typeof r[e]!=typeof t)return console.error("DatePickerX, setOption: Option has invalid type.")&&!1;if(Array.isArray(r[e])){if(t.length<r[e].length)return console.warn("DatePickerX, setOption: Invalid option length.")&&!1;t=t.slice(0,r[e].length)}}r[e]=t}return{init:function(s){if(s=s||{},l)return console.error("DatePickerX, init: Date picker have already inited.")&&!1;l=!0,r={};for(var p in e)r[p]=e[p];if("object"!=typeof s)console.error("DatePickerX, init: Initial options must be an object.");else for(var p in s)m(p,s[p]);var v;return i.parentNode.classList.add("date-picker-x-container"),i.classList.add("date-picker-x-input"),i.readOnly=!0,function(){o.container=n("div","date-picker-x");var e=n("div","dpx-title-box",o.container);if(o.prevTitle=n("span","dpx-prev",e,"&#x276e;"),o.title=n("span","dpx-title",e),o.nextTitle=n("span","dpx-next",e,"&#x276f;"),o.content=n("div","dpx-content-box",o.container),i.nextElementSibling?i.parentNode.insertBefore(o.container,i.nextElementSibling):i.parentNode.appendChild(o.container),r.todayButton||r.clearButton){var t=n("div","dpx-btns",o.container);r.todayButton&&(o.today=n("span",["dpx-item","dpx-today"],t,r.todayButtonLabel,r.todayButtonLabel)),r.clearButton&&(o.clear=n("span",["dpx-item","dpx-clear"],t,r.clearButtonLabel,r.clearButtonLabel))}}(),v=this,i.addEventListener("click",function(e){if(!g()){e.stopPropagation(),c=2,D(),o.container.classList.add("active"),o.container.classList.remove("to-top");var n=o.container.getBoundingClientRect();n.bottom>window.innerHeight&&n.top+i.offsetHeight>o.container.offsetHeight&&(o.container.classList.add("to-top"),o.container.getBoundingClientRect().top<0&&o.container.classList.remove("to-top")),t&&t!==o.container&&t.classList.remove("active"),t=o.container}}),window.addEventListener("click",function(){t&&t.classList.remove("active")}),o.container.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault()}),o.content.addEventListener("click",function(e){var t=new Date(e.target.dpxValue);if(2===c)e.target.classList.contains("dpx-disabled")||v.setValue(e.target.dpxValue)&&o.container.classList.remove("active");else{var n=d(),a=u();n.setDate(1),a.setDate(1),c||(n.setMonth(0),a.setMonth(0)),r.blockWeekend?e.target.dpxValue>=n.getTime()&&e.target.dpxValue<=a.getTime()&&t.getDay()>0&&t.getDay()<6&&++c&&D(e.target.dpxValue):e.target.dpxValue>=n.getTime()&&e.target.dpxValue<=a.getTime()&&++c&&D(e.target.dpxValue)}}),o.prevTitle.addEventListener("click",function(){D(this.dpxValue)}),o.nextTitle.addEventListener("click",function(){D(this.dpxValue)}),o.title.addEventListener("click",function(){c&&c--&&D(this.dpxValue)}),o.today&&o.today.addEventListener("click",function(){!this.classList.contains("dpx-disabled")&&v.setValue(a())&&o.container.classList.remove("active")}),o.clear&&o.clear.addEventListener("click",function(){v.setValue(null)&&o.container.classList.remove("active")}),!0},remove:function(){return l?(i.parentNode.removeChild(o.container),i.classList.remove("date-picker-x-input"),i.readOnly=l=!1,!0):console.error("DatePickerX, remove: Date picker doesn't init yet.")&&!1},setValue:function(e,t){if(!l)return console.error("DatePickerX, remove: Date picker doesn't init yet.")&&!1;if(null===e)s=null,i.value="";else{if(!(e instanceof Date)&&(e=new Date(e)),isNaN(e))return console.error("DatePickerX, setValue: Can't convert argument to date.")&&!1;if(!t&&(e.getTime()<d().getTime()||e.getTime()>u().getTime()))return console.error("DatePickerX, setValue: Date out of acceptable range.")&&!1;s=e.getTime(),i.value=p(e,r.format)}var n=document.createEvent("Event");return n.initEvent("change",!0,!0),i.dispatchEvent(n),g()&&D(),!0},getValue:function(e){return!l&&console.error("DatePickerX, getValue: Date picker doesn't init yet."),e?s:null===s?"":p(new Date(s),r.format)},getMinDate:function(){var e=r.minDate;return e instanceof HTMLInputElement&&(e=e.DatePickerX.getMinDate()),a(e)},getMaxDate:function(){var e=r.maxDate;return e instanceof HTMLInputElement&&(e=e.DatePickerX.getMaxDate()),a(e)}}}var r=[],o=[];Object.defineProperty(HTMLInputElement.prototype,"DatePickerX",{get:function(){var e=r.indexOf(this);return-1===e&&(e=r.push(this)-1,o.push(new i(this))),o[e]},set:function(){}}),window.DatePickerX={setDefaults:function(t){if("object"!=typeof t)return console.error("DatePickerX, setDefaults: Invalid option type.")&&!1;for(var n in t)typeof t[n]==typeof e[n]&&(Array.isArray(e[n])?t[n].length>=e[n].length&&(e[n]=t[n].slice(0,e[n].length)):e[n]=t[n]);return!0}}}();var captchaPass="no";var correctCaptcha=function(response){captchaPass=response};var GeneralProvider=(function(){var basicAuth='';var serverName='//www.kwsp.gov.my';var apiURL=serverName+'/api/jsonws/invoke';var baseURL='/-/';var months=['January','February','March','April','May','June','July','August','September','October','November','December'];var monthsBM=['Januari','Februari','Mac','April','Mei','Jun','Julai','Ogos','September','Oktober','November','Disember'];var formInstanceId='156861';var officeFormInstanceId='156881';var offices=[];var propertiesArrays=[];var enableJSForm=!0;var enableCaptcha=!1;var default_lang="en_US";var lang=$("html").attr('lang');lang=lang.replace("-","_");var enableClassicButton=!1;var _init=function(){if(document.URL.indexOf('igndev')>-1){basicAuth='Basic dGVzdEBsaWZlcmF5LmNvbTp0ZXN0';serverName='http://kwsp.igndev.com'}
apiURL=serverName+'/api/jsonws/invoke';$(document).ready(function(){$(".documentPrint").on('click',function(e){e.preventDefault();window.print()});var currentUrl=document.URL;if(currentUrl.indexOf('/members/register')>-1){}
var hash=location.hash;var otherLinkOverlay='<div class="reveal" id="otherlinks" data-reveal><div class="close-button" data-close aria-label="Close modal" type="button"> <span aria-hidden="true">&times;</span></div><div class="orbit carousel" role="region" aria-label="KWSP" data-orbit data-auto-play="false" data-options="data-pause-on-hover:true; data-timer-delay:5000; data-swipe:true; "><div class="orbit-wrapper"><div class="orbit-controls"><div class="orbit-previous"><span class="show-for-sr">Previous Slide</span><i class="fa fa-chevron-left"></i></div><div class="orbit-next"><span class="show-for-sr">Next Slide</span><i class="fa fa-chevron-right"></i></div></div><ul class="orbit-container"><li class="orbit-slide"> <a href="http://www.bnm.gov.my" target="_blank"><img class="logo" src="/documents/20126/153702/BNM.png/bcacdf24-fa13-777f-32d0-71468ce42297" ></a> <a href="http://www.iim.com.my" target="_blank"><img class="logo" src="/documents/20126/153702/iim.png/c780f4e7-4d55-c5ac-aa04-fcb607fcaced" ></a> <img class="logo" src="/documents/20126/153702/kpm.png/2a01aa84-2aa9-db33-40f0-6d1633d934d0" > <a href="http://www.hasil.org.my" target="_blank"><img class="logo" src="/documents/20126/153702/LHDN.png/de240c21-38cc-aa47-2fff-bbbf27bed232" ></a> <a href="http://www.mampu.gov.my/web/guest" target="_blank"><img class="logo" src="/documents/20126/153702/mampu.png/caf1497f-78b8-5923-fdb4-5726eee6b33d" ></a> <a href="http://www.mifc.com" target="_blank"><img class="logo" src="/documents/20126/153702/mifc.jpg/967a1fd5-eb29-1254-98c7-33e3e38ef01a" ></a></li><li class="orbit-slide"> <a href="http://www.mdec.my" target="_blank"><img class="logo" src="/documents/20126/153702/MDeC.png/0c2c7a15-c820-1acb-7322-be206f62bbbd" ></a> <a href="http://www.treasury.gov.my" target="_blank"><img class="logo" src="/documents/20126/153702/mof.png/5d7e36db-43b9-c10b-d353-96da659afa24" ></a> <a href="http://www.mscmalaysia.my" target="_blank"><img class="logo" src="/documents/20126/153702/MSC+Malaysia.png/64780252-d64e-7926-3269-d7baa3166a19" ></a> <a href="http://www.perkeso.gov.my/ms.html" target="_blank"><img class="logo" src="/documents/20126/153702/perkeso.png/12cb41e2-3c9f-37c0-d427-97a20f723f12" ></a> <a href="http://www.rhb.com.my" target="_blank"><img class="logo" src="/documents/20126/153702/rhb.png/a4adc351-4b25-f980-523f-c520c685a833" ></a></li></ul></div></div></div>';var achievementOverlay='<div class="reveal" id="achievements" data-reveal><div class="close-button" data-close aria-label="Close modal" type="button"> <span aria-hidden="true">&times;</span></div><div class="grid-container"><div class="grid-x"><div class="cell small-12 medium-4 text-center"><img src="/documents/20126/153702/ISO_01.jpg/9b540557-6683-046f-062f-cda1059e3933"></div><div class="cell small-12 medium-4 text-center"><img src="/documents/20126/153702/ISO_02.jpg/2488beb1-194b-9682-1f6a-7c3de93c2179"></div><div class="cell small-12 medium-4 text-center"><img src="/documents/20126/153702/ISO_03.jpg/b25308f7-e9b6-1ce4-6d4e-e402a299364b"></div></div></div></div>';var classicText="Back to Classic&nbsp;&nbsp;&nbsp;<i class='fa fa-undo'> </i>";var classicLink="http://classic.kwsp.gov.my/"
if(lang!="en_US"){classicText="Kembali ke Klasik&nbsp;&nbsp;&nbsp;<i class='fa fa-undo'> </i>";classicLink="http://classic.kwsp.gov.my"}
var classicButton='<a id="classicButtonLink" style="padding: 10px 15px; background-color: #CC0033; line-height: 1; font-size: 13px; color: white; position: absolute; right: 15px; top: -22px; border-radius: 8px; z-index: 99;" href="'+classicLink+'">'+classicText+'</a>';$("body").append(achievementOverlay);$("body").append(otherLinkOverlay);if($('.orbit-bullets').length>0){if(enableClassicButton){$(".footer").append(classicButton)}}
$(document).foundation();$("#newFooterLinks li a").each(function(index){var cHref=$(this).attr('href');if(cHref.search("/achievements")>=0){$(this).addClass("footerAchievement")}
if(cHref.search("/other-links")>=0){$(this).addClass("footerOtherLinks")}});$('a.footerOtherLinks').on('click',function(e){e.preventDefault();$("#otherlinks").foundation('open')});$('a.footerAchievement').on('click',function(e){e.preventDefault();$("#achievements").foundation('open')});if(hash=="#thirdRateSchedule"){$("#deeplinked-tabs .tabs-title").removeClass("is-active");$("#deeplinked-tabs .tabs-title a").attr('aria-selected','false');$("#deeplinked-tabs .tabs-title:nth-child(2) ").addClass("is-active");$("#MandatoryContribution-label").attr('aria-selected','true');$("#WhatYouNeedToKnow").removeClass("is-active");$("#MandatoryContribution").addClass("is-active")}
if($("#coveredHealthChecklist").length>0){$("span.blue a").on('click',function(){if($(this).html()=="LIHAT SENARAI PENUH"){$(this).html("LIHAT SENARAI RINGKAS")}else if($(this).html()=="LIHAT SENARAI RINGKAS"){$(this).html("LIHAT SENARAI PENUH")}else if($(this).html()=="FULL LIST"){$(this).html("CLICK TO COLLAPSE")}else if($(this).html()=="CLICK TO COLLAPSE"){$(this).html("FULL LIST")}})}
if($("#PressAnnouncements").length>0){if(hash!="#ScamsAlerts"&&hash!="#EventsPromotions"){_getGeneralItems('news',$("#PressAnnouncements ul.list-group"),null,null)}
$("#PressAnnouncements-label").on('click',function(e){_getGeneralItems('news',$("#PressAnnouncements ul.list-group"),null,null)});$("select#newsType").on('change',function(){var theSelection=$(this).val();if(theSelection==""){_getGeneralItems('news',$("#PressAnnouncements ul.list-group"),null,$("select#newsSort").val())}else{_getGeneralItems('news',$("#PressAnnouncements ul.list-group"),theSelection.toLowerCase(),$("select#newsSort").val())}});$("select#newsSort").on('change',function(){var theSelection=$(this).val();var newsTypeSelect=$("select#newsType").val();if(newsTypeSelect==""){newsTypeSelect=null}else{newsTypeSelect=newsTypeSelect.toLowerCase()}
if(theSelection==""||theSelection=='descending'){_getGeneralItems('news',$("#PressAnnouncements ul.list-group"),newsTypeSelect,null)}else{_getGeneralItems('news',$("#PressAnnouncements ul.list-group"),newsTypeSelect,theSelection)}})}
if($("#ScamsAlerts").length>0){if(hash=="#ScamsAlerts"){_getGeneralItems('alerts',$("#ScamsAlerts ul.list-group"))}
$("#ScamsAlerts-label").on('click',function(e){_getGeneralItems('alerts',$("#ScamsAlerts ul.list-group"))});$("select#alertType").on('change',function(){var theSelection=$(this).val();if(theSelection==""){_getGeneralItems('alerts',$("#ScamsAlerts ul.list-group"))}else{_getGeneralItems('alerts',$("#ScamsAlerts ul.list-group"),theSelection.toLowerCase())}});$("select#alertSort").on('change',function(){var theSelection=$(this).val();var newsTypeSelect=$("select#alertType").val();if(newsTypeSelect==""){newsTypeSelect=null}else{newsTypeSelect=newsTypeSelect.toLowerCase()}
if(theSelection==""||theSelection=='descending'){_getGeneralItems('alerts',$("#ScamsAlerts ul.list-group"),newsTypeSelect,null)}else{_getGeneralItems('alerts',$("#ScamsAlerts ul.list-group"),newsTypeSelect,theSelection)}})}
if($("#EventsPromotions").length>0){if(hash=="#EventsPromotions"){_getGeneralItems('events',$("#EventsPromotions ul.list-group"))}
$("#EventsPromotions-label").on('click',function(e){_getGeneralItems('events',$("#EventsPromotions ul.list-group"))})}
if($("#Highlights").length>0){_getYearRecords('records',$("#yearRecordContainer"),$("#recordYears"));_getDividendsRecords('dividends',$("#dividendsContainer"));_getEquityShares('shares',$("#sharesContainer"),$("#sharesYears"))}
if($("#Videos").length>0){_getVideoList('videos',$("#Videos ul.list-group"),'video')}
if($("#Statistics").length>0){_getJanjiStats('janji kami statistics',$("#statisticsContainer"),$("#statisticsYear"))}
if($("#Presentations").length>0){_getVideoList('conferences',$("#presentationContainer"),'presentations');_getVideoList('conferences',$("#slidesContainer"),'presentations-pdf')}
if($("#calendar").length>0){var calendarTabClickCount=0;if(hash=="#calendar"){calendarTabClickCount=1;_getMobileTeamCalendar('mobile team',$("#mobileTeamContainer"));$("#mobileState").on('change',function(e){_filterMobileTeam($("#mobileTeamContainer"))});$("#mobileMonth").on('change',function(e){_filterMobileTeam($("#mobileTeamContainer"))})}
$("#calendar-label").on('click',function(){if(calendarTabClickCount==0){calendarTabClickCount=1;_getMobileTeamCalendar('mobile team',$("#mobileTeamContainer"));$("#mobileState").on('change',function(e){_filterMobileTeam($("#mobileTeamContainer"))});$("#mobileMonth").on('change',function(e){_filterMobileTeam($("#mobileTeamContainer"))})}})}
if($("#SocialSecurityInsight").length>0){_getSecurityInsights('social security insights',$("#insightsContainer"))}
if($("#tenders").length>0&&$("#quotation").length>0){_getTenderQuotations('tenders',$("#tenders ul.accordion"),'descending');$("#tenders select.item-sort").on('change',function(){var itemsort=$(this).val();_getTenderQuotations('tenders',$("#tenders ul.accordion"),itemsort)});_getTenderQuotations('quotations',$("#quotation  ul.accordion"),'descending');$("#quotation select.item-sort").on('change',function(){var itemsort=$(this).val();_getTenderQuotations('quotations',$("#quotation ul.accordion"),itemsort)})}
if($("#tenderInner").length>0){var stepRemoveFlag=!1;for(var t=1;t<=10;t++){if(stepRemoveFlag){$("#aStep"+t).remove()}else{if($.trim($("#aStep"+t+" .stepsContent").html())==""){stepRemoveFlag=!0;$("#aStep"+t).remove()}}}}
if($("#appointmentform").length>0){var tdt=new Date();var formAbidePass=!1;var formNotReadyToSend=!0;var daysAhead=12;if(tdt.getDay()==6){daysAhead=11}else if(tdt.getDay()<4){daysAhead=10}
var minDates=new Date(tdt.getTime()+(3600000*24*daysAhead));$('head').append('<link rel="stylesheet" href="/documents/20126/0/DatePickerX.min.css/7598cd71-89ae-c694-38b1-8445405303ce" type="text/css" />');var myDatepicker=document.getElementById('date');myDatepicker.DatePickerX.init({format:'dd-mm-yyyy',minDate:minDates,blockWeekend:!0,mondayFirst:!1,weekDayLabels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun']});$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formDate").val(tdt.getTime());$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_groupId").val('20126');$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formInstanceId").val(formInstanceId);$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_languageId").val("en_US");var $themodal=$('#appThankYou');_getOffices('offices');$("#state_type").on('change',function(){if($(this).val()==""){$("#location_type").html('<option value="">Please Select</option>')}else{var theSelectedState=$(this).val();var optionHTML='<option value="">Please Select</option>';$.each(offices,function(key,value){if(value[0]==theSelectedState){optionHTML+='<option value="'+value[1]+'">'+value[1]+'</option>'}});$("#location_type").html(optionHTML)}});$("#rasformframe").attr('src','/web/forms/shared/-/form/'+formInstanceId);$("#rasformframe").on('load',function(){var theframe=document.getElementById("rasformframe");var elmnt=theframe.contentWindow.document.getElementsByTagName("form")[0];$("#appointmentform").attr('action',elmnt.getAttribute('action'));$("#appointmentform").attr('target','rasformframe');$("#appointmentform").on('submit',function(e){if(formNotReadyToSend){e.preventDefault();if(enableCaptcha){if(captchaPass!="no"){if(formAbidePass){formNotReadyToSend=!1;$("#appointmentform").trigger('submit');var currenturl=window.location.href;var currenturlarray=currenturl.split('#');window.location.href=currenturlarray[0]+"#thankyou";location.reload()}}else{alert("Fill the captcha")}}else{if(formAbidePass){formNotReadyToSend=!1;$("#appointmentform").trigger('submit');var currenturl=window.location.href;var currenturlarray=currenturl.split('#');window.location.href=currenturlarray[0]+"#thankyou";location.reload()}}}else{}});$("#appointmentform").on('formvalid.zf.abide',function(e,el){formAbidePass=!0})});if(hash=="#thankyou"){$('html, body').animate({scrollTop:$("#thankyou").offset().top},800,function(){$themodal.foundation('open')})}}
if($("#toolsCalculator").length>0){$("a.reachus2").on('click',function(e){var targetCalculator=$(this).attr('href');$("#calculatorList .grid-x").css('display','none');$(targetCalculator).css('display','')});if(hash!=""){if($(hash).length>0){$("#calculatorList .grid-x").css('display','none');$(hash).css('display','')}}}
if($("#propertyEnquiryForm").length>0){var tdt=new Date();if(enableJSForm){var jsformHTML='<div class="grid-container"><div class="grid-x"><div class="cell auto .hide-for-small .hide-for-medium"></div><div class="cell small-12 medium-12 large-6"><form method="post" id="checkForm" name="checkForm" class="cForm" action="" data-abide novalidate> <input class="field form-control" id="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formDate" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formDate" type="hidden" value="1543741397315"> <input class="field form-control" id="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_groupId" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_groupId" type="hidden" value="20126"> <input class="field form-control" id="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formInstanceId" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formInstanceId" type="hidden" value="128943"> <input class="field form-control" id="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_languageId" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_languageId" type="hidden" value="en_US"> <input class="field form-control" id="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_workflowAction" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_workflowAction" type="hidden" value="1"> <input id="hiddenStateField" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$State$3PNWoowk$0$$en_US" type="hidden" value=""> <input id="hiddenLocationField" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Prop$JAaoGEIN$0$$en_US" type="hidden" value=""><div class="grid-x"><div class="cell pr"> <label><span class="copy-en">Applicant&rsquo;s Name*</span><span class="copy-bm">Nama Pemohon*</span> <input id="name" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Name$nY4iRnp8$0$$en_US" type="text" aria-errormessage="nameError" data-validator="no_html_content" required> </label><p class="form_notice text-right copy-en">*as per identification (NRIC)</p><p class="form_notice text-right copy-bm">*seperti dalam nombor kad pengenalan</p> <span class="form-error" data-form-error-for="name" id="nameError" style="font-weight: normal; margin-top:0;">Enter your name.</span> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_tick.png" class="icon_form hide"> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_cross.png" class="icon_form hide"></div><div class="cell extra_top4 pr"> <label><span class="copy-en">Applicant&rsquo;s Email*</span><span class="copy-bm">Emel Pemohon*</span> <input name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Email$F1HeD9r2$0$$en_US" type="email" value="" id="email" aria-errormessage="emailError" pattern="email" required> </label> <span class="form-error" data-form-error-for="email" id="emailError" style="font-weight: normal; margin-top:0;">Enter valid email address.</span> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_tick.png" class="icon_form hide"> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_cross.png" class="icon_form hide"></div><div class="cell extra_top4 pr"> <label><span class="copy-en">Applicant&rsquo;s Phone No*</span><span class="copy-bm">No Telefon*</span> <input name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$PhoneNumber$WLKj3tMj$0$$en_US" type="text" id="tel_num" aria-errormessage="phoneError" pattern="phone_numbers_only" required> </label> <span class="form-error" data-form-error-for="tel_num" id="phoneError" style="font-weight: normal; margin-top:0;">Enter your phone number.</span> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_tick.png" class="icon_form hide"> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_cross.png" class="icon_form hide"></div><div class="cell extra_top4 pr"> <label><span class="copy-en">Company/Organisation&rsquo;s Name*</span><span class="copy-bm">Nama syarikat/organisasi*</span> <input id="org_name" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Organisation$w6uA7R7s$0$$en_US" type="text" aria-errormessage="orgNameError" data-validator="no_html_content" required> </label><p class="form_notice text-right copy-en">*as per company registration</p><p class="form_notice text-right copy-bm">*seperti dalam pendaftaran syarikat</p> <span class="form-error" data-form-error-for="org_name" id="orgNameError" style="font-weight: normal; margin-top:0;">Enter organisation name.</span> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_tick.png" class="icon_form hide"> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_cross.png" class="icon_form hide"></div><div class="cell extra_top4 pr"> <label><span class="copy-en">Company/Organisation&rsquo;s Address*</span><span class="copy-bm">Alamat syarikat/Organisasi*</span><textarea id="address" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Organisa$PwuN1QIC$0$$en_US" aria-errormessage="orgAddressError" data-validator="no_html_content" required></textarea></label> <span class="form-error" data-form-error-for="tel_num" id="orgAddressError" style="font-weight: normal; margin-top:0;">Enter organisation address.</span> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_tick.png" class="icon_form hide"> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_cross.png" class="icon_form hide"></div><div class="cell extra_top4 pr"> <label><span class="copy-en">Space Required*</span><span class="copy-bm">Ruang yang diperlukan*</span> <input id="space" name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Space$YXlhNpLX$0$$en_US" type="text" aria-errormessage="spaceRequiredError" data-validator="no_html_content" required> </label> <span class="form-error" data-form-error-for="space" id="spaceRequiredError" style="font-weight: normal; margin-top:0;">Enter space required.</span> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_tick.png" class="icon_form hide"> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_cross.png" class="icon_form hide"></div><div class="cell extra_top4 pr"> <label><span class="copy-en">Remarks*</span><span class="copy-bm">Kenyataan*</span><textarea name="_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Remarks$mKRAg56L$0$$en_US" id="remarks" aria-errormessage="remarksError" data-validator="no_html_content" required></textarea></label> <span class="form-error" data-form-error-for="remarks" id="remarksError" style="font-weight: normal; margin-top:0;">Fill the remarks.</span> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_tick.png" class="icon_form hide"> <img src="/o/kwsp-theme/css/assets/img/template/icon_form_cross.png" class="icon_form hide"></div><div class="cell extra_top4 pr"><div id="captchaBox"></div></div><div class="cell extra_top3 text-right"> <button type="submit" class="button submitBtn"><span class="copy-en">SUBMIT</span><span class="copy-bm">HANTAR</span></button></div></div></form></div><div class="cell auto .hide-for-small .hide-for-medium"></div></div></div>';$("#propertyEnquiryForm").html(jsformHTML);$(document).foundation()}else{$('#hiddenStateField').attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$State$3PNWoowk$0$$en_US');$("#hiddenLocationField").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Prop$JAaoGEIN$0$$en_US');$("#name").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Name$nY4iRnp8$0$$en_US');$("#email").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Email$F1HeD9r2$0$$en_US');$("#tel_num").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$PhoneNumber$WLKj3tMj$0$$en_US');$("#org_name").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Organisation$w6uA7R7s$0$$en_US');$("#address").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Organisa$PwuN1QIC$0$$en_US');$("#space").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Space$YXlhNpLX$0$$en_US');$("#remarks").attr('name','_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_ddm$$Remarks$mKRAg56L$0$$en_US')}
$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formDate").val(tdt.getTime());$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_groupId").val('20126');$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_formInstanceId").val(officeFormInstanceId);$("#_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormPortlet_languageId").val("en_US");$("#hiddenStateField").val($.trim($("#hiddenState").text()));$("#hiddenLocationField").val($.trim($("#hiddenLocation").text()));if(enableCaptcha){var checkCaptchaTimer;var captchaEnabled=!1;checkCaptchaTimer=setInterval(function(){if(!captchaEnabled){if(typeof grecaptcha!=='undefined'&&grecaptcha&&grecaptcha.render){grecaptcha.render('captchaBox',{'sitekey':'6Lc0iX8UAAAAAAiZiPaofC4jIeX_WTHtvYMO5kNk','callback':correctCaptcha});captchaEnabled=!0}}else{clearInterval(checkCaptchaTimer)}},1000)}
var $themodal=$('#appThankYou');var formReadyToSend=!1;$("#propertyenquiryframe").attr('src','/web/forms/shared/-/form/'+officeFormInstanceId);$("#propertyenquiryframe").on('load',function(){var theframe=document.getElementById("propertyenquiryframe");var elmnt=theframe.contentWindow.document.getElementsByTagName("form")[0];var formAbidePass=!1;$("#checkForm").attr('action',elmnt.getAttribute('action'));$("#checkForm").attr('target','propertyenquiryframe');$("#checkForm").on('submit',function(e){if(!formReadyToSend){e.preventDefault();if(enableCaptcha){if(captchaPass!="no"){if(formAbidePass){formReadyToSend=!0;$("#checkForm").trigger('submit');setTimeout(function(){window.location.href="/about-epf/related-links/properties#thank-you"},2000)}}else{alert("Fill the captcha")}}else{if(formAbidePass){formReadyToSend=!0;$("#checkForm").trigger('submit');setTimeout(function(){window.location.href="/about-epf/related-links/properties#thank-you"},2000)}}}});$("#checkForm").on('formvalid.zf.abide',function(e,el){formAbidePass=!0})})}
if($("#propertiesContainer").length>0){var $themodal=$('#appThankYou');$("#propertiesContainer").html('<div class="cell extra_bottom2"><p>Loading</p></div>');_getProperties('properties',$("#propertiesContainer"));if(hash=="#thank-you"){$(window).on('load',function(){$themodal.foundation('open')})}}
if($("#AnnualReport").length>0){_getAnnualReports("annual reports",$("#annualReportsContent"))}
if($("#surveyAndPollContent").length>0){_getSurveyPolls("surveys and polls",$("#surveyAndPollContent"))}})};var _getAnnualReports=function(group,dataContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];$.each(data,function(key,value){var item={'arYear':null,'arContent':null,'arAllFiles':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
if(value.attributes.name.nodeValue=='arAllFiles'){if(theValue!=""){item[value.attributes.name.nodeValue]=JSON.parse(theValue)}}else{item[value.attributes.name.nodeValue]=theValue}});if(value.status==0){items.push(item)}
items.sort(_predicateByDesc('arYear'));var tmpl='';var reportCount=0;$.each(items,function(key,value){if(reportCount<9){tmpl+='<div class="cell extra_bottom2">'}else{tmpl+='<div class="cell extra_bottom2 hidden-more">'}
tmpl+='<p class="normal blue">'+value.arYear+'</p>';tmpl+=value.arContent;tmpl+='<span class="blue url txt14 demi extra_top7 uppercase"><a href="'+serverName+'/documents/'+value.arAllFiles.groupId+'/'+value.arAllFiles.uuid+'" target="_blank">Download All</a> </span>';tmpl+='<br /> &nbsp;</div>';reportCount++});dataContainer.html(tmpl);$(".hidden-more").css('display','none');$(".pub_more").on('click',function(e){e.preventDefault();$(".hidden-more").slideDown('fast');$(".pub_more_container").css('display','none')});$("#annualReportsContent").children('.cell').children('ul').addClass("no-bullet");$("#annualReportsContent").children('.cell').children('ul').addClass("extra_top3");$("#annualReportsContent").children('.cell').children('ul').addClass("extra_bottom4");$("#annualReportsContent").children('.cell').children('ul').children('li').attr('class','');$("#annualReportsContent").children('.cell').children('ul').children('li').addClass("mrgb15");$("#annualReportsContent").children('.cell').children('ul').children('li').addClass("txt15");$("#annualReportsContent").children('.cell').children('ul').children('li').children('ul').addClass("no-bullet");$("#annualReportsContent").children('.cell').children('ul').children('li').children('ul').children('li').addClass('mrgb15');$("#annualReportsContent").children('.cell').children('ul').children('li').children('ul').children('li').addClass('txt15')}})},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getSurveyPolls=function(group,dataContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];$.each(data,function(key,value){var item={'spTitle':null,'spContent':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
item[value.attributes.name.nodeValue]=theValue});if(value.status==0){items.push(item)}
var tmpl='';$.each(items,function(key,value){tmpl+='<div class="cell content_space survey_content">';tmpl+='<h3>'+value.spTitle+'</h3>';tmpl+='<div class="grey txt16">'+value.spContent+'</div>';tmpl+='<hr><br><br>';tmpl+='</div>'});dataContainer.html(tmpl);var embeddedStyle='<style type="text/css"> .survey_content p a{color:#EC1C24;} .survey_content p{margin-bottom: 10px;} </style>';dataContainer.append(embeddedStyle)}})},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _generatePropertiesEntries=function(data,dataContainer){var availableStates=[]
$.each(data,function(key,value){if(availableStates.indexOf(value.state)<0){availableStates.push(value.state)}});availableStates.sort();var tmpl="";var statedropdown='<option value="">STATE</option>';if(lang!=default_lang){statedropdown='<option value="">NEGERI</option>'}
for(var aS=0;aS<availableStates.length;aS++){if(aS==0){tmpl+='<div class="grid-x extra_top properties_states" data-state="'+availableStates[aS]+'">'}else{tmpl+='<div class="grid-x properties_states" data-state="'+availableStates[aS]+'">'}
tmpl+='<div class="cell">';tmpl+='<h2>'+availableStates[aS]+'</h2>';tmpl+='<div class="grid-x grid-margin-x">';var dcount=0
var tmpTitle='';$.each(data,function(key,value){if(value.title!=tmpTitle){if(value.state==availableStates[aS]){tmpl+='<div class="cell small-12 medium-12 large-4 extra_bottom property-item" data-property-cat="'+value.propertyCategory+'">';tmpl+='<div class="property-image"><img src="'+serverName+"/documents/"+value.propertyImage.groupId+"/"+value.propertyImage.fileEntryId+"/"+value.propertyImage.name+'/'+value.propertyImage.uuid+'"></div>';tmpl+='<h3 class="no_space extra_top8">'+value.title+'</h3>';tmpl+='<h4 class="no_space extra_top7">'+value.propertyName+'</h4>';tmpl+='<p class="extra_top7">'+value.shortDescription+'</p>';if(lang==default_lang){tmpl+='<p class="expand extra_top8"><a data-toggle="panel'+dcount+'" aria-controls="panel'+dcount+'">EXPAND&nbsp;&nbsp;<img src="/o/kwsp-theme/css/assets/img/template/icon_arrow_expand.png"></a></p>'}else{tmpl+='<p class="expand extra_top8"><a data-toggle="panel'+dcount+'" aria-controls="panel'+dcount+'">MAKLUMAT LANJUT&nbsp;&nbsp;<img src="/o/kwsp-theme/css/assets/img/template/icon_arrow_expand.png"></a></p>'}
tmpl+='<div class="expand_content hide" data-toggler=".hide" id="panel'+dcount+'" aria-expanded="false">';tmpl+='<p>'+value.address+'</p>';if(value.locationMap!=null){if(lang==default_lang){tmpl+='<p class="extra_top8"><a href="'+serverName+"/documents/"+value.locationMap.groupId+"/"+value.locationMap.uuid+'" target="_blank">Location</a></p>'}else{tmpl+='<p class="extra_top8"><a href="'+serverName+"/documents/"+value.locationMap.groupId+"/"+value.locationMap.uuid+'" target="_blank">Lokasi</a></p>'}}
if(value.mapLink!=null){if(lang==default_lang){tmpl+='<p class="extra_top7"><a href="'+value.mapLink+'" target="_blank">Location</a></p>'}else{tmpl+='<p class="extra_top7"><a href="'+value.mapLink+'" target="_blank">Lokasi</a></p>'}}
if(value.floorPlan!=null){if(lang==default_lang){tmpl+='<p class="extra_top7"><a href="'+serverName+"/documents/"+value.floorPlan.groupId+"/"+value.floorPlan.uuid+'" target="_blank">Floor Plan</a></p>'}else{tmpl+='<p class="extra_top7"><a href="'+serverName+"/documents/"+value.floorPlan.groupId+"/"+value.floorPlan.uuid+'" target="_blank">Pelan Lantai</a></p>'}}
tmpl+='</div>';if(lang==default_lang){tmpl+='<a class="button secondary enquirenow extra_top9" href="'+value.urlTitle+'">ENQUIRE NOW</a>'}else{tmpl+='<a class="button secondary enquirenow extra_top9" href="'+value.urlTitle+'">TANYA SEKARANG</a>'}
tmpl+='</div>'}}
tmpTitle=value.title;dcount++});tmpl+='</div></div></div><hr data-state="'+availableStates[aS]+'">';statedropdown+='<option value="'+availableStates[aS]+'">'+availableStates[aS]+'</option>'}
dataContainer.html(tmpl);$("select#State").html(statedropdown);$("select#State").on('change',function(){var theSelection=$(this).val();if(theSelection==''){$(".properties_states").css('display','');$("#propertiesContainer hr").css('display','')}else{$(".properties_states").css('display','none');$("#propertiesContainer hr").css('display','none');$(".properties_states[data-state='"+theSelection+"']").css('display','');$("#propertiesContainer hr[data-state='"+theSelection+"']").css('display','')}});$("select#propertyType").on('change',function(){var theSelection=$(this).val();if(theSelection==''){$(".property-item").css('display','')}else{$(".property-item").css('display','none');$(".property-item[data-property-cat='"+theSelection+"']").css('display','')}});$(document).foundation()}
var _getProperties=function(group,dataContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];$.each(data,function(key,value){var item={'title':null,'propertyName':null,'propertyImage':null,'shortDescription':null,'state':null,'stateText':null,'address':null,'mapLink':null,'floorPlan':null,'locationMap':null,'propertyCategory':null,'urlTitle':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
if(value.attributes.name.nodeValue=='propertyImage'||value.attributes.name.nodeValue=='floorPlan'||value.attributes.name.nodeValue=='locationMap'){if(theValue!=""){item[value.attributes.name.nodeValue]=JSON.parse(theValue)}}else{item[value.attributes.name.nodeValue]=theValue}});item.urlTitle=baseURL+value.urlTitle;if(value.status==0){items.push(item)}}});if(items.length>0){propertiesArrays=items;_generatePropertiesEntries(propertiesArrays,dataContainer)}},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getOffices=function(group){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];var articleList=[];$.each(data,function(key,value){if(articleList.indexOf(value.articleId)==-1){articleList.push(value.articleId);var item={'OfficeKioskName':null,'KioskCode':null,'OfficeKioskAddress':null,'OfficeKioskState':null,'OfficeKioskMapURL':null,'OfficeKioskMapURLWaze':null,'OfficeKioskPhoneNumber':null,'OfficeKioskFaxNumber':null,'OperatingHoursOfficeKiosk':[],'OperatingHoursCounter':[],'OfficeKioskServices':[]};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
if(value.attributes.name.nodeValue=='OfficeKioskServices'||value.attributes.name.nodeValue=='OperatingHoursOfficeKiosk'||value.attributes.name.nodeValue=='OperatingHoursCounter'){item[value.attributes.name.nodeValue].push(theValue)}else{item[value.attributes.name.nodeValue]=theValue}});if(value.status==0){items.push(item)}
items.sort(_predicateBy('OfficeKioskName'));var itm=0;$.each(items,function(key,value){offices[itm]=[value.OfficeKioskState,value.OfficeKioskName];itm++})}}})},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getTenderQuotations=function(group,dataContainer,sort){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];var articleList=[];$.each(data,function(key,value){if(articleList.indexOf(value.articleId)==-1){articleList.push(value.articleId);var item={'title':null,'publishDate':null,'category':null,'documentNo':null,'qualificationCriteria':null,'documentPrice':null,'openDate':null,'closeDate':null,'urlTitle':null,'moreInfoLink':null,'submitLink':null,'tenderRequirements':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
item[value.attributes.name.nodeValue]=theValue});item.urlTitle=baseURL+value.urlTitle;if(value.status==0){items.push(item)}
if(sort=='ascending'){items.sort(_predicateBy('publishDate'))}else{items.sort(_predicateByDesc('publishDate'))}
var tmpl='';$.each(items,function(key,value){tmpl+='<li class="accordion-item" data-accordion-item>';tmpl+='<a href="#" class="accordion-title">'+value.title+'</a>';tmpl+='<div class="accordion-content" data-tab-content>';tmpl+='   <div class="grid-x extra_top8">';tmpl+='      <div class="cell">';tmpl+='         <div class="grid-x">';tmpl+='            <div class="cell small-6 extra_padding3 extra_border grey-bg extra_bottom3">';if(value.category=="tender"){if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='               <h4 class="blue">No. Tender</h4>'}else{tmpl+='               <h4 class="blue">Tender No.</h4>'}}else if(value.category=="quotation"){if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='               <h4 class="blue">No. RFQ</h4>'}else{tmpl+='               <h4 class="blue">RFQ No.</h4>'}}
tmpl+='               <p>'+value.documentNo+'</p>';tmpl+='            </div>';tmpl+='            <div class="cell small-6 extra_padding3 grey-bg extra_bottom3">';if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='               <h4 class="blue">Kriteria Kelayakan</h4>'}else{tmpl+='               <h4 class="blue">Qualification Criteria</h4>'}
tmpl+='               <p>'+value.qualificationCriteria+'</p>';tmpl+='            </div>';tmpl+='            <div class="cell small-6 extra_padding3 extra_border grey-bg extra_bottom3">';if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='               <h4 class="blue">Tarikh Dibuka</h4>'}else{tmpl+='               <h4 class="blue">Open Date</h4>'}
tmpl+='               <p>'+value.openDate+'</p>';tmpl+='            </div>';tmpl+='            <div class="cell small-6 extra_padding3 grey-bg extra_bottom3">';if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='               <h4 class="blue">Tarikh Tutup</h4>'}else{tmpl+='               <h4 class="blue">Closing Date</h4>'}
tmpl+='               <p>'+value.closeDate+'</p>';tmpl+='            </div>';tmpl+='            <div class="cell small-6 extra_padding3 extra_border grey-bg extra_bottom3">';if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='               <h4 class="blue">Harga Dokumen</h4>'}else{tmpl+='               <h4 class="blue">Document Price</h4>'}
tmpl+='               <p>'+value.documentPrice+'</p>';tmpl+='            </div>';tmpl+='         </div>';tmpl+='      </div> ';tmpl+='   </div>';tmpl+='   <div class="grid-x extra_top2">';tmpl+='      <div class="cell text-center">';if(value.category=="tender"){if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='         <div class="button gold-bg long"><a href="'+value.submitLink+'" target="_blank">MOHON UNTUK TENDER</a></div>';tmpl+='         <div class="button gold-bg long"><a href="'+value.urlTitle+'" target="_blank">MAKLUMAT LANJUT</a></div>'}else{tmpl+='         <div class="button gold-bg long"><a href="'+value.submitLink+'" target="_blank">APPLY FOR TENDER</a></div>';tmpl+='         <div class="button gold-bg long"><a href="'+value.urlTitle+'" target="_blank">MORE INFO</a></div>'}}else if(value.category=="quotation"){if(lang=='in_ID'||lang=="ms"||lang=="ms_MY"){tmpl+='         <div class="button gold-bg long"><a href="'+value.urlTitle+'" target="_blank">CARA UNTUK MOHON</a></div>';tmpl+='         <div class="button gold-bg long"><a href="'+value.submitLink+'" target="_blank">HANTAR SEBUT HARGA</a></div>'}else{tmpl+='         <div class="button gold-bg long"><a href="'+value.urlTitle+'" target="_blank">HOW TO SUBMIT</a></div>';tmpl+='         <div class="button gold-bg long"><a href="'+value.submitLink+'" target="_blank">SUBMIT QUOTE</a></div>'}}
tmpl+='      </div> ';tmpl+='   </div>';tmpl+='</div>';tmpl+='</li>';tmpl+='<li><hr /></li> '});dataContainer.html(tmpl);$(document).foundation();Foundation.reInit('accordion')}}})},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getSecurityInsights=function(group,dataContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];var articleList=[];$.each(data,function(key,value){if(articleList.indexOf(value.articleId)==-1){articleList.push(value.articleId);var item={'year':null,'thumbnail':null,'documentLinks':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
if(value.attributes.name.nodeValue=='thumbnail'||value.attributes.name.nodeValue=='documentLinks'){item[value.attributes.name.nodeValue]=JSON.parse(theValue)}else{item[value.attributes.name.nodeValue]=theValue}});if(value.status==0){items.push(item)}
items.sort(_predicateByDesc('year'));var tmpl='';$.each(items,function(key,value){if(lang==default_lang){tmpl+='<div class="cell extra_bottom2"> <p class="normal blue">'+value.year+'</p> <div class="extra_top3"> <div class="card-profile mrgb10"><img alt="" class="card-pic" src="'+serverName+"/documents/"+value.thumbnail.groupId+"/"+value.thumbnail.fileEntryId+"/"+value.thumbnail.name+'/'+value.thumbnail.uuid+'"></div> </div> <span class="blue url txt14 demi uppercase"><a href="'+serverName+"/documents/"+value.documentLinks.groupId+"/"+value.documentLinks.uuid+'" target="_blank">Download</a> </span><br> &nbsp;</div>'}else{tmpl+='<div class="cell extra_bottom2"> <p class="normal blue">'+value.year+'</p> <div class="extra_top3"> <div class="card-profile mrgb10"><img alt="" class="card-pic" src="'+serverName+"/documents/"+value.thumbnail.groupId+"/"+value.thumbnail.fileEntryId+"/"+value.thumbnail.name+'/'+value.thumbnail.uuid+'"></div> </div> <span class="blue url txt14 demi uppercase"><a href="'+serverName+"/documents/"+value.documentLinks.groupId+"/"+value.documentLinks.uuid+'" target="_blank">Muat Turun</a> </span><br> &nbsp;</div>'}});dataContainer.html(tmpl)}}})},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _filterMobileTeam=function(dataContainer){var dataState=$("#mobileState").val();var dataMonth=$("#mobileMonth").val();dataContainer.children('.cell').each(function(index){var cDate=new Date();var cMonth=cDate.getMonth();var cYear=cDate.getFullYear();var monthMatch=!1;if(dataState!=""&&dataMonth!=""){if(dataMonth=='current'){if(Number($(this).attr('data-month'))==cMonth&&Number($(this).attr('data-year'))==cYear){monthMatch=!0}}else{if((Number($(this).attr('data-month'))>cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}}
if($(this).attr('data-team')==dataState&&monthMatch){$(this).css('display','')}else{$(this).css('display','none')}}else if(dataState==""&&dataMonth!=""){if(dataMonth=='current'){if(Number($(this).attr('data-month'))==cMonth){monthMatch=!0}}else{if((Number($(this).attr('data-month'))>cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}}
if(monthMatch){$(this).css('display','')}else{$(this).css('display','none')}}else if(dataState!=""&&dataMonth==""){if((Number($(this).attr('data-month'))>=cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}
if($(this).attr('data-team')==dataState&&monthMatch){$(this).css('display','')}else{$(this).css('display','none')}}else{if((Number($(this).attr('data-month'))>=cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}
if(monthMatch){$(this).css('display','')}}})}
var _getMobileTeamCalendar=function(group,dataContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];var articleList=[];$.each(data,function(key,value){if(articleList.indexOf(value.articleId)==-1){articleList.push(value.articleId);var item={'eventDate':null,'team':null,'operationTime':null,'address':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
item[value.attributes.name.nodeValue]=theValue});if(value.status==0){items.push(item)}
items.sort(_predicateBy('eventDate'));var tmpl='';$.each(items,function(key,value){var d=new Date(value.eventDate);var monthsName="";if(lang==default_lang){monthsName=months[d.getMonth()]}else{monthsName=monthsBM[d.getMonth()]}
tmpl+='<div class="cell small-12 medium-12 large-4 grey-bg extra_padding6 extra_bottom4" style="border-radius: 20px; display: none;" data-team="'+value.team+'" data-month="'+d.getMonth()+'" data-year="'+d.getFullYear()+'"> <h4 style="margin-bottom: 10px; color: #2e3191;">'+d.getDate()+" "+monthsName+" "+d.getFullYear()+'</h4> <p style="margin-bottom: 15px;">'+value.operationTime+'</p> <p>'+value.address+'</p> </div>'});dataContainer.html(tmpl);var dataState=$("#mobileState").val();var dataMonth=$("#mobileMonth").val();dataContainer.children('.cell').each(function(index){var cDate=new Date();var cMonth=cDate.getMonth();var cYear=cDate.getFullYear();var monthMatch=!1;if(dataState!=""&&dataMonth!=""){if(dataMonth=='current'){if(Number($(this).attr('data-month'))==cMonth&&Number($(this).attr('data-year'))==cYear){monthMatch=!0}}else{if((Number($(this).attr('data-month'))>cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}}
if($(this).attr('data-team')==dataState&&monthMatch){$(this).css('display','')}else{$(this).css('display','none')}}else if(dataState==""&&dataMonth!=""){if(dataMonth=='current'){if(Number($(this).attr('data-month'))==cMonth){monthMatch=!0}}else{if((Number($(this).attr('data-month'))>cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}}
if(monthMatch){$(this).css('display','')}else{$(this).css('display','none')}}else if(dataState!=""&&dataMonth==""){if((Number($(this).attr('data-month'))>=cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}
if($(this).attr('data-team')==dataState&&monthMatch){$(this).css('display','')}else{$(this).css('display','none')}}else{if((Number($(this).attr('data-month'))>=cMonth&&Number($(this).attr('data-year'))>=cYear)||Number($(this).attr('data-year'))>cYear){monthMatch=!0}
if(monthMatch){$(this).css('display','')}}})}}})},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getJanjiStats=function(group,dataContainer,selectContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var recordYears=[];var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];$.each(data,function(key,value){var item={'year':null,'quarter':null,'statisticImage':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
if(value.attributes.name.nodeValue=='statisticImage'){item[value.attributes.name.nodeValue]=JSON.parse(theValue)}else{item[value.attributes.name.nodeValue]=theValue}});if(value.status==0){items.push(item)}
items.sort(_predicateByDesc('year'));var tmpl='';$.each(items,function(key,value){var yearCombined=value.year+''+value.quarter;tmpl+='<img class="card-video-pic" src="'+serverName+"/documents/"+value.statisticImage.groupId+"/"+value.statisticImage.fileEntryId+"/"+value.statisticImage.name+"/"+value.statisticImage.uuid+'" alt="" year="'+yearCombined+'" />';if(recordYears.indexOf(Number(yearCombined))==-1){recordYears.push(Number(yearCombined))}});dataContainer.html(tmpl)}});recordYears.sort(function(a,b){return b-a});var dropdownItems='';$.each(recordYears,function(key,value){var ddlText=value+"";ddlText="Q"+ddlText.substring(4)+"/"+ddlText.substring(0,4);dropdownItems+='<option value="'+value+'">'+ddlText+'</option>'});selectContainer.html(dropdownItems);if(dropdownItems!=""){dataContainer.children('img').css('display','none');dataContainer.children('img[year='+recordYears[0]+']').css('display','');selectContainer.on('change',function(s){var rYear=$(this).val();$("#statisticsContainer img").css('display','none');$("#statisticsContainer img[year="+rYear+"]").css('display','')})}},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getVideoList=function(group,dataContainer,filterType){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var recordYears=[];var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];var articleList=[];$.each(data,function(key,value){if(articleList.indexOf(value.articleId)==-1){articleList.push(value.articleId);var item={'videoCategory':null,'videoTitle':null,'videoDate':null,'youtubeID':null,'conferenceDetails':null,'urlTitle':null,'videoThumbnail':[]};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval=null;var theValue=null;for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==null){theValue=defaultVal}
if(value.attributes.name.nodeValue=='videoThumbnail'){if(theValue!=""){item[value.attributes.name.nodeValue]=JSON.parse(theValue)}else{item[value.attributes.name.nodeValue]=""}}else{item[value.attributes.name.nodeValue]=theValue}});item.urlTitle=baseURL+value.urlTitle;if(filterType!=null){if(filterType=='video'){if(item.videoCategory=='video'||item.videoCategory=='news'){if(value.status==0){items.push(item)}}}else{if(item.videoCategory==filterType){if(value.status==0){items.push(item)}}}}else{if(value.status==0){items.push(item)}}
items.sort(_predicateByDesc('videoDate'));var tmpl='';items.sort(_predicateByDesc('videoDate'));$.each(items,function(key,value){if(value.videoCategory=='video'||value.videoCategory=='news'){tmpl+='<li class="list-group-item">';tmpl+='<div class="listcnt video">';tmpl+='<a class="flex-row-left cell small-12 pr" href="https://www.youtube.com/watch?v='+value.youtubeID+'" target="_blank">';tmpl+='<div class="grid-x grid-margin-x contentdisplay">';tmpl+='<div class="cell small-12 medium-3 large-2 alpha">';tmpl+='<span class="flex-column text-center ">';tmpl+='<div class="card-profile mrgb0">';if(value.videoThumbnail==null||value.videoThumbnail==""){tmpl+='<img class="card-video-pic" src="https://img.youtube.com/vi/'+value.youtubeID+'/0.jpg" alt="" />'}else{tmpl+='<img class="card-video-pic" src="'+serverName+"/documents/"+value.videoThumbnail.groupId+"/"+value.videoThumbnail.fileEntryId+"/"+value.videoThumbnail.name+"/"+value.videoThumbnail.uuid+'" alt="" />'}
tmpl+='</div>';tmpl+='</span>';tmpl+='</div>';tmpl+='<div class="cell small-12 medium-9 large-10">';tmpl+='<div class="text-left">';tmpl+='<p class="blue txt16 uppercase mrgb5">'+value.videoCategory+'</p>';tmpl+='<h3 class="txt20 mrgb10">'+value.videoTitle+'</h3>';tmpl+='<span class="blue url txt14 demi extra_top7 uppercase">';if(lang=="en_US"){tmpl+='Watch now'}else if(lang=="in_ID"||lang=='ms_MY'){tmpl+='Tonton'}
tmpl+='</span>';tmpl+='</div>';tmpl+='</div>';tmpl+='</div>';tmpl+='</a>';tmpl+='</div>';tmpl+='</li>'}
if(value.videoCategory=='presentations'){tmpl+='<div class="cell extra_bottom2">';tmpl+='<a href="https://www.youtube.com/watch?v='+value.youtubeID+'" target="_blank">';tmpl+='<div class=" extra_top3">';tmpl+='<div class="card-profile mrgb10">';if(value.videoThumbnail==null||value.videoThumbnail==""){tmpl+='<img class="card-pic" src="https://img.youtube.com/vi/'+value.youtubeID+'/0.jpg" alt="">'}else{tmpl+='<img class="card-pic" src="'+serverName+"/documents/"+value.videoThumbnail.groupId+"/"+value.videoThumbnail.fileEntryId+"/"+value.videoThumbnail.name+"/"+value.videoThumbnail.uuid+'" alt="">'}
tmpl+='</div>';tmpl+='</div>';tmpl+='<p class="blue txt20 bold mrgb10">'+value.videoTitle+'</p>';tmpl+='<span class="blue url txt14 demi extra_top7 uppercase">';if(lang=="en_US"){tmpl+='View'}else if(lang=="in_ID"||lang=='ms_MY'){tmpl+='Lihat Lagi'}
tmpl+='</span>';tmpl+='</a>';tmpl+='<br>';tmpl+='<br>';tmpl+='</div>'}
if(value.videoCategory=='presentations-pdf'){tmpl+='<div class="cell extra_bottom2">';tmpl+='<a href="'+value.urlTitle+'" target="_blank">';tmpl+='<div class=" extra_top3">';tmpl+='<div class="card-profile mrgb10">';tmpl+='<img class="card-pic" src="'+serverName+"/documents/"+value.videoThumbnail.groupId+"/"+value.videoThumbnail.fileEntryId+"/"+value.videoThumbnail.name+"/"+value.videoThumbnail.uuid+'" alt="">';tmpl+='</div>';tmpl+='</div>';tmpl+='<p class="blue txt20 bold mrgb10">'+value.videoTitle+'</p>';tmpl+='<span class="blue url txt14 demi extra_top7 uppercase">';if(lang=="en_US"){tmpl+='View'}else if(lang=="in_ID"||lang=='ms_MY'){tmpl+='Lihat Lagi'}
tmpl+='</span>';tmpl+='</a>';tmpl+='<br>';tmpl+='<br>';tmpl+='</div>'}});dataContainer.html(tmpl)}}})},error:function(error){console.log(error)}})}},error:function(error){console.log(error)}})};var _getEquityShares=function(group,dataContainer,selectContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var recordYears=[];var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];var articleList=[];$.each(data,function(key,value){if(articleList.indexOf(value.articleId)==-1){articleList.push(value.articleId);var item={'year':null,'month':null,'shareTitle':null,'listContent':null,'urlTitle':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if($.trim(theValue)==""){theValue=defaultVal}
item[value.attributes.name.nodeValue]=theValue});item.urlTitle=baseURL+value.urlTitle;if(value.status==0){items.push(item)}
items.sort(_predicateBy('month'));var tmpl='';$.each(items,function(key,value){tmpl+='<a class="cell" href="'+value.urlTitle+'" year="'+value.year+'">';tmpl+='<div class="roundcorner grey-bg-hover ">';tmpl+='<p class="bold blue txt20">'+value.shareTitle+'</p>';tmpl+='<span class="blue url txt14 demi extra_top3">Read More</span>';tmpl+='</div>';tmpl+='</a>';if(recordYears.indexOf(Number(value.year))==-1){recordYears.push(Number(value.year))}});dataContainer.html(tmpl)}}});recordYears.sort(function(a,b){return b-a});var dropdownItems='';$.each(recordYears,function(key,value){dropdownItems+='<option value="'+value+'">'+value+'</option>'});selectContainer.html(dropdownItems);if(dropdownItems!=""){dataContainer.children('a').css('display','none');dataContainer.children('a[year='+recordYears[0]+']').css('display','');selectContainer.on('change',function(s){var rYear=$(this).val();$("#sharesContainer a").css('display','none');$("#sharesContainer a[year="+rYear+"]").css('display','')})}},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getDividendsRecords=function(group,dataContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var recordYears=[];var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];$.each(data,function(key,value){var item={'year':null,'q1':null,'q2':null,'q3':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
item[value.attributes.name.nodeValue]=theValue});if(value.status==0){items.push(item)}
items.sort(_predicateByDesc('year'));var tmpl='';items.sort(_predicateByDesc('year'));$.each(items,function(key,value){tmpl+='<div class="cell roundcorner grey-bg-hover "> <p class="blue">'+value.year+'</p> <p class="bold blue txt20">'+value.amount+'</p> </div>'});dataContainer.html(tmpl)}})},error:function(error){console.log(error)}})}},error:function(error){console.log(error)}})};var _getYearRecords=function(group,dataContainer,selectContainer){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var recordYears=[];var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','-obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];$.each(data,function(key,value){var item={'year':null,'q1':null,'q2':null,'q3':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
item[value.attributes.name.nodeValue]=theValue});if(value.status==0){items.push(item)}
items.sort(_predicateByDesc('year'));var tmpl='';$.each(items,function(key,value){tmpl+='<div class="cell roundcorner grey-bg-hover nopaddingtb" year="'+value.year+'"> <h2>Q1</h2> <h3 class="normal grey extra_bottom3">'+value.q1+'</h3> </div>';tmpl+='<div class="cell roundcorner grey-bg-hover nopaddingtb" year="'+value.year+'"> <h2>Q2</h2> <h3 class="normal grey extra_bottom3">'+value.q2+'</h3> </div>';tmpl+='<div class="cell roundcorner grey-bg-hover nopaddingtb" year="'+value.year+'"> <h2>Q3</h2> <h3 class="normal grey extra_bottom3">'+value.q3+'</h3> </div>';if(recordYears.indexOf(Number(value.year))==-1){recordYears.push(Number(value.year))}});dataContainer.html(tmpl)}});recordYears.sort(function(a,b){return b-a});var dropdownItems='';$.each(recordYears,function(key,value){dropdownItems+='<option value="'+value+'">'+value+'</option>'});selectContainer.html(dropdownItems);if(dropdownItems!=""){dataContainer.children('.cell').css('display','none');dataContainer.children('.cell[year='+recordYears[0]+']').css('display','');selectContainer.on('change',function(s){var rYear=$(this).val();$("#yearRecordContainer .cell").css('display','none');$("#yearRecordContainer .cell[year="+rYear+"]").css('display','')})}},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _getGeneralItems=function(group,dataContainer,filterType,sort){var postData={'/journal.journalfolder/get-folders':{'groupId':'20126'}};$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=t8g375tQ',beforeSend:function(xhr){},success:function(folders){var folderIds=[];if(folders){$.each(folders,function(key,value){if(value.name.toLowerCase()==group.toLowerCase()){folderIds.push(value.folderId)}})}
if(folderIds.length>0){postData={'$article = /journal.journalarticle/get-articles':{'groupId':'20126','folderId':folderIds[0],'status':'0','start':'0','end':'1000','+obc':'com.liferay.journal.util.comparator.ArticleModifiedDateComparator'}}
$.ajax({url:apiURL,type:'POST',dataType:'json',data:'cmd='+escape(JSON.stringify(postData))+'&p_auth=oliBqOjC',beforeSend:function(xhr){},success:function(data){var items=[];var articleList=[];$.each(data,function(key,value){if(articleList.indexOf(value.articleId)==-1){articleList.push(value.articleId);var item={'Category':null,'genDate':null,'Title':null,'shortDescription':null,'genExternal':null,'hasInnerPage':null,'innerPageContent':null,'showHome':null,'urlTitle':null};var xml=$.parseXML(value.content);if(xml){$jxml=$(xml).find('dynamic-element');$.each($jxml,function(key,value){var defaultval="";var theValue="";for(var c=0;c<value.childNodes.length;c++){if(value.childNodes[c].nodeName=='dynamic-content'){if(value.childNodes[c].getAttribute("language-id")==lang){theValue=value.childNodes[c].textContent}
if(value.childNodes[c].getAttribute("language-id")==default_lang){defaultVal=value.childNodes[c].textContent}}}
if(theValue==""){theValue=defaultVal}
item[value.attributes.name.nodeValue]=theValue});item.urlTitle=baseURL+value.urlTitle;if(filterType!=null){if(item.Category==filterType){if(value.status==0){items.push(item)}}}else{if(value.status==0){items.push(item)}}
if(sort=='ascending'){items.sort(_predicateBy('genDate'))}else{items.sort(_predicateByDesc('genDate'))}
var tmpl='';$.each(items,function(key,value){var d=new Date(value.genDate);var monthsName=months[d.getMonth()];if(value.Category=='announcements'){tmpl+='<li class="list-group-item"> <div class="listcnt"> <a class="flex-row-left cell small-12 pr" href="'+value.urlTitle+'"> <span class="flex-column text-center pa"> <img src="/o/kwsp-theme/css/assets/img/thumbs/announcement.svg"> </span> <div class="text-left">';tmpl+='<p class="blue txt16 text-uppercase">'+d.getDate()+' '+monthsName+' '+d.getFullYear()+'</p>';tmpl+='<h3 class="txt20">'+value.Title+'</h3>';tmpl+='</div> </a> </div> </li>'}
if(value.Category=='press'){tmpl+='<li class="list-group-item"> <div class="listcnt"> <a class="flex-row-left cell small-12 pr" href="'+value.urlTitle+'"> <span class="flex-column text-center pa"> <img src="/o/kwsp-theme/css/assets/img/thumbs/article.svg"> </span> <div class="text-left"> ';tmpl+='<p class="blue txt16 text-uppercase">'+d.getDate()+' '+monthsName+' '+d.getFullYear()+'</p> ';tmpl+='<h3 class="txt20">'+value.Title+'</h3> ';tmpl+='</div> </a> </div> </li> '}
if(value.Category=='updates'){tmpl+='<li class="list-group-item"> <div class="listcnt"> <a class="flex-row-left cell small-12 pr" href="'+value.urlTitle+'"> <span class="flex-column text-center pa"> <img src="/o/kwsp-theme/css/assets/img/thumbs/updates.svg"> </span> <div class="text-left"> ';tmpl+='<p class="blue txt16 text-uppercase">'+d.getDate()+' '+monthsName+' '+d.getFullYear()+'</p> ';tmpl+='<h3 class="txt20">'+value.Title+'</h3> ';tmpl+='</div> </a> </div> </li> '}
if(value.Category=='scams'){tmpl+='<li class="list-group-item"> <div class="listcnt"> <a class="flex-row-left cell small-12 pr" href="'+value.urlTitle+'"> <span class="flex-column text-center pa"> <img src="/o/kwsp-theme/css/assets/img/thumbs/scam.svg"> </span> <div class="text-left"> ';tmpl+='<p class="blue txt16 text-uppercase">'+d.getDate()+' '+monthsName+' '+d.getFullYear()+'</p> ';tmpl+='<h3 class="txt20">'+value.Title+'</h3> ';if($.trim(value.shortDescription)!=""){tmpl+='<p>'+value.shortDescription+'</p>'}
tmpl+='</div> </a> </div> </li> '}
if(value.Category=='alerts'){tmpl+='<li class="list-group-item"> <div class="listcnt"> <a class="flex-row-left cell small-12 pr" href="'+value.urlTitle+'"> <span class="flex-column text-center pa"> <img src="/o/kwsp-theme/css/assets/img/thumbs/alert.svg"> </span> <div class="text-left"> ';tmpl+='<p class="blue txt16 text-uppercase">'+d.getDate()+' '+monthsName+' '+d.getFullYear()+'</p> ';tmpl+='<h3 class="txt20">'+value.Title+'</h3> ';if($.trim(value.shortDescription)!=""){tmpl+='<p>'+value.shortDescription+'</p>'}
tmpl+='</div> </a> </div> </li> '}
if(value.Category=='events'){tmpl+='<li class="list-group-item"> <div class="listcnt"> <a class="flex-row-left cell small-12 pr" href="'+value.urlTitle+'"> <span class="flex-column text-center pa"> <img src="/o/kwsp-theme/css/assets/img/thumbs/article.svg"> </span> <div class="text-left"> ';tmpl+='<p class="blue txt16 text-uppercase">'+d.getDate()+' '+monthsName+' '+d.getFullYear()+'</p> ';tmpl+='<h3 class="txt20">'+value.Title+'</h3> ';if($.trim(value.shortDescription)!=""){tmpl+='<p>'+value.shortDescription+'</p>'}
tmpl+='</div> </a> </div> </li> '}
if(value.Category=='promotions'){tmpl+='<li class="list-group-item"> <div class="listcnt"> <a class="flex-row-left cell small-12 pr" href="'+value.urlTitle+'"> <span class="flex-column text-center pa"> <img src="/o/kwsp-theme/css/assets/img/thumbs/article.svg"> </span> <div class="text-left"> ';tmpl+='<p class="blue txt16 text-uppercase">'+d.getDate()+' '+monthsName+' '+d.getFullYear()+'</p> ';tmpl+='<h3 class="txt20">'+value.Title+'</h3> ';if($.trim(value.shortDescription)!=""){tmpl+='<p>'+value.shortDescription+'</p>'}
tmpl+='</div> </a> </div> </li> '}});if(items.length==0&&group=='events'){tmpl+='<li class="list-group-item">';if(lang=='en_US'){tmpl+='Currently there are 0 listings.<br/>Do check back soon for our latest events and promos.'}else{tmpl+='Tiada senarai.<br/>Sila datang semula untuk melihat acara dan promosi terbaharu kami.'}
tmpl+='</li>'}
dataContainer.html(tmpl)}}})},error:function(error){console.log(error)}})}},error:function(error){console.log('error')}})};var _predicateBy=function(prop){return function(a,b){if(a[prop]>b[prop]){return 1}else if(a[prop]<b[prop]){return-1}
return 0}};var _predicateByDesc=function(prop){return function(a,b){if(a[prop]<b[prop]){return 1}else if(a[prop]>b[prop]){return-1}
return 0}};return{init:_init}})()